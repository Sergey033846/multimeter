### **Проект Multimeter**

---

### **Общее описание**
**Multimeter** — это программный комплекс для управления многоканальной системой измерений, имитирующей работу мультиметра. Система включает функциональность обработки аналоговых сигналов, управления задачами через пул потоков и выполнение команд. 

---

### **Цели и задачи проекта**
- Реализация многоканального управления измерениями.
- Обеспечение параллельной обработки задач.
- Возможность взаимодействия с системой через команды.
- Поддержка масштабируемости и легкость интеграции новых модулей.

---

### **Основные модули и их описание**

#### 1. **Channel (канал измерения)**
- **Роль**: 
  - Основной компонент системы для представления отдельного канала измерения.
- **Подробности реализации**:
  - Хранит конфигурацию канала (например, диапазон измерений, разрешение).
  - Инкапсулирует данные о текущем состоянии канала.

#### 2. **AnalogInput (аналоговый ввод)**
- **Роль**: 
  - Обработка аналоговых данных, поступающих в систему.
- **Подробности реализации**:
  - Работает с данными, поступающими от физического устройства или их эмуляции.

#### 3. **ChannelFactory (фабрика каналов)**
- **Роль**:
  - Упрощает создание и инициализацию объектов каналов.
- **Подробности реализации**:
  - Создает каналы с настройками по умолчанию.
  - Поддерживает динамическое создание каналов при изменении конфигурации системы.

#### 4. **ChannelController (контроллер каналов)**
- **Роль**:
  - Управляет работой всех каналов в системе.
- **Подробности реализации**:
  - Осуществляет опрос каждого канала с заданной частотой.
  - Следит за состоянием каналов, включая их активность и возможные ошибки.
  - Предоставляет интерфейс для взаимодействия с каналами.

#### 5. **Multimeter (основной класс системы)**
- **Роль**:
  - Интегрирует все модули в единую систему.
- **Подробности реализации**:
  - Отвечает за инициализацию всех компонентов.
  - Запускает основной цикл обработки, который опрашивает каналы и обрабатывает команды.
  - Работает с пулом задач для выполнения команд.

#### 6. **TaskPool (пул задач)**
- **Роль**:
  - Управляет параллельным выполнением задач.
- **Подробности реализации**:
  - Поддерживает многопоточную среду для выполнения команд.
  - Обеспечивает безопасную обработку задач с использованием мьютексов и условных переменных.
  - Поддерживает остановку пула задач для завершения работы системы.

#### 7. **Commands и CommandFactory**
- **Роль**:
  - `Commands`: Представляют собой набор инструкций, которые могут быть выполнены системой.
  - `CommandFactory`: Создает экземпляры команд.
- **Подробности реализации**:
  - `Commands` поддерживают команды управления каналами, сбора данных и выполнения дополнительных действий.
  - `CommandFactory` динамически генерирует команды на основе пользовательского ввода.

#### 8. **Logger (логгирование)**
- **Роль**:
  - Реализует потокобезопасное логгирование.
- **Подробности реализации**:
  - Использует буферизацию сообщений, чтобы минимизировать накладные расходы.
  - Поддерживает запись логов в отдельном потоке.
  - Логи включают отладочные, информационные и диагностические сообщения.

#### 9. **MyTools (вспомогательные функции)**
- **Роль**:
  - Набор вспомогательных функций, используемых в других модулях.
- **Подробности реализации**:
  - Преобразование чисел в строки с заданной точностью.
  - Генерация случайных чисел в заданных диапазонах.
  - Общие алгоритмы и утилиты, которые не относятся к основным функциональным блокам.

#### 10. **Config (конфигурация системы)**
- **Роль**:
  - Хранение глобальных параметров, используемых во всей системе.
- **Подробности реализации**:
  - Определяет значения по умолчанию, такие как количество каналов, частота опроса и пр.
  - Позволяет легко изменять параметры без изменения основного кода.

---

### **Ключевые особенности**
   - Каждый компонент проекта разрабатывался с учетом принципов разделения ответственности.
   - Асинхронное выполнение задач с использованием пула потоков.
   - Поддержка управления несколькими каналами одновременно.
   - Потокобезопасный логгер для диагностики.
   - Использование современных возможностей C++17 (например, атомарные переменные и умные указатели).
   - Поддержка пользовательских команд для управления мультиметром.
---

### **Примеры взаимодействия**
- Пользователь в интерактивном режиме вводит команды для управления каналами мультиметра.
- Система обрабатывает команды в асинхронном режиме, распределяя их между потоками.
- Результаты измерений (или их эмуляция) передаются обратно пользователю.
